$(function(){"use strict";module("affix plugin"),test("should be defined on jquery object",function(){ok($(document.body).affix,"affix method is defined")}),module("affix",{setup:function(){$.fn.bootstrapAffix=$.fn.affix.noConflict()},teardown:function(){$.fn.affix=$.fn.bootstrapAffix,delete $.fn.bootstrapAffix}}),test("should provide no conflict",function(){strictEqual($.fn.affix,void 0,"affix was set back to undefined (org value)")}),test("should return jquery collection containing the element",function(){var t=$("<div/>"),f=t.bootstrapAffix();ok(f instanceof $,"returns jquery collection"),strictEqual(f[0],t[0],"collection contains element")}),test("should exit early if element is not visible",function(){var t=$('<div style="display: none"/>').bootstrapAffix();t.data("bs.affix").checkPosition(),ok(!t.hasClass("affix"),"affix class was not added")}),test("should trigger affixed event after affix",function(){stop();var t='<div id="affixTarget"><ul><li>Please affix</li><li>And unaffix</li></ul></div><div id="affixAfter" style="height: 20000px; display: block;"/>';$(t).appendTo(document.body),$("#affixTarget").bootstrapAffix({offset:$("#affixTarget ul").position()}),$("#affixTarget").on("affix.bs.affix",function(){ok(!0,"affix event fired")}).on("affixed.bs.affix",function(){ok(!0,"affixed event fired"),$("#affixTarget, #affixAfter").remove(),start()}),setTimeout(function(){window.scrollTo(0,document.body.scrollHeight),setTimeout(function(){window.scroll(0,0)},16)},0)}),test("should affix-top when scrolling up to offset when parent has padding",function(){stop();var t='<div id="padding-offset" style="padding-top: 20px;"><div id="affixTopTarget"><p>Testing affix-top class is added</p></div><div style="height: 1000px; display: block;"/></div>';$(t).appendTo(document.body),$("#affixTopTarget").bootstrapAffix({offset:{top:120,bottom:0}}).on("affixed-top.bs.affix",function(){ok($("#affixTopTarget").hasClass("affix-top"),"affix-top class applied"),$("#padding-offset").remove(),start()}),setTimeout(function(){window.scrollTo(0,document.body.scrollHeight),setTimeout(function(){window.scroll(0,119)},250)},250)})});